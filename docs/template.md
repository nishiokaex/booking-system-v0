# ドキュメント章構成テンプレート

記載ルール
- 図はMermaid記法で記載してください。
- ファイル名は小文字＋ハイフン区切りで統一（例：`tech-spec.md`）。

---

## 要件定義書 (`docs/requirements.md`)

何を作るかを定義します。

### 1. 概要
- 1.1 プロジェクトの背景と目的
- 1.2 スコープと制約事項
- 1.3 用語定義

### 2. ビジネス要件
- 2.1 ビジネス目標
- 2.2 ステークホルダー一覧
- 2.3 成功指標（KPI）

### 3. 機能要件
- 3.1 機能一覧と優先度
- 3.2 ユースケース
- 3.3 ユーザーストーリー

### 4. 非機能要件
- 4.1 パフォーマンス要件
- 4.2 セキュリティ要件
- 4.3 可用性・信頼性要件
- 4.4 対応OS・デバイス

### 5. 制約条件とリスク
- 5.1 技術的制約
- 5.2 リスク分析

---

## 基本設計書 (`docs/basic-design.md`)

### 1. 概要
- 1.1 文書の目的
- 1.2 システム全体像
- 1.3 前提条件・制約

### 2. システム構成
- 2.1 システム構成図（Mermaid記法：必須）
- 2.2 構成要素の説明
- 2.3 ネットワーク構成

### 3. アーキテクチャ設計
- 3.1 技術スタック
- 3.2 コンポーネント構成図（Mermaid推奨）
- 3.3 データフロー図（Mermaid推奨）
- 3.4 外部サービス利用方針

### 4. 機能設計
- 4.1 機能一覧
- 4.2 各機能の入出力・処理フロー
- 4.3 権限制御（ユーザー／管理者）
- 4.4 エラーハンドリング方針

### 5. 画面設計
- 5.1 サイトマップ
- 5.2 画面一覧
- 5.3 画面遷移図（Mermaid記法：必須）
- 5.4 各画面のワイヤーフレーム
- 5.5 共通UIコンポーネント（ヘッダー、フッター、ダイアログなど）

### 6. 非機能設計（概要）
- 6.1 パフォーマンス要件
- 6.2 セキュリティ要件
- 6.3 可用性・信頼性要件
- 6.4 運用・監視設計

### 7. 将来拡張
- 7.1 例：AI機能拡張
- 7.2 例：多言語対応
- 7.3 例：モバイルアプリ連携

---

## 詳細設計書 (`docs/detailed-design.md`)

### 1. アーキテクチャ詳細
- 1.1 システム構成図（詳細版、Mermaid推奨）
- 1.2 レイヤー構成
- 1.3 モジュール分割
- 1.4 クラス図（Mermaid推奨）

### 2. アプリケーション設計
- 2.1 処理フロー
- 2.2 API仕様概要（詳細は `api-spec.md` を参照）
- 2.3 入出力インターフェース
- 2.4 エラーハンドリング

### 3. データベース設計
- 3.1 `docs/db-design.md` を参照

### 4. セキュリティ設計
- 4.1 `docs/security-design.md` を参照

### 5. 非機能設計（詳細）
- 5.1 パフォーマンス要件
- 5.2 可用性・冗長化設計
- 5.3 ログ・監視設計

---

## データベース設計書 (`docs/db-design.md`)

### 1. 概要
- 1.1 データベース選定理由
- 1.2 設計方針
- 1.3 命名規則

### 2. 論理設計
- 2.1 ER図（Mermaid記法：必須）
- 2.2 テーブル一覧
- 2.3 正規化レベル

### 3. 物理設計
- 3.1 テーブル定義
- 3.2 カラム詳細
- 3.3 インデックス設計

### 4. 運用設計
- 4.1 バックアップ方針
- 4.2 マイグレーション戦略
- 4.3 パフォーマンスチューニング

### 5. データ整合性
- 5.1 制約定義
- 5.2 トランザクション管理

---

## API仕様書 (`docs/api-spec.md`)

### 1. 概要
- 1.1 API基本情報
- 1.2 バージョニング方針
- 1.3 認証方式

### 2. 共通仕様
- 2.1 エンドポイントURL規則
- 2.2 HTTPメソッド
- 2.3 ステータスコード
- 2.4 エラーレスポンス形式

### 3. エンドポイント詳細
- 3.1 各APIの詳細仕様
- 3.2 リクエストパラメータ
- 3.3 レスポンス形式
- 3.4 サンプルコード

### 4. データモデル
- 4.1 オブジェクト定義
- 4.2 列挙型
- 4.3 バリデーション規則

---

## デザインガイドライン (`docs/ui-design.md`)

### 1. ビジュアルアイデンティティ
- 1.1 ブランドコンセプト
- 1.2 デザイン原則
- 1.3 トーン&マナー

### 2. カラースキーム
- 2.1 プライマリカラー
- 2.2 セカンダリカラー
- 2.3 背景・テキストカラー
- 2.4 ステータスカラー

### 3. タイポグラフィ
- 3.1 フォントファミリー
- 3.2 フォントサイズ
- 3.3 行間・文字間隔

### 4. UIコンポーネント
- 4.1 ボタン
- 4.2 フォーム要素
- 4.3 カード・リスト
- 4.4 アイコン

---

## コーディング規約 (`docs/coding-rule.md`)

### 1. 一般原則
- 1.1 コーディング哲学
- 1.2 可読性の原則
- 1.3 保守性の原則

### 2. 命名規則
- 2.1 変数・定数
- 2.2 関数・メソッド
- 2.3 クラス・インターフェース
- 2.4 ファイル・ディレクトリ

### 3. コードフォーマット
- 3.1 インデント・改行
- 3.2 括弧・スペース
- 3.3 行の長さ
- 3.4 インポート順序

### 4. ベストプラクティス
- 4.1 エラーハンドリング
- 4.2 コメント記述
- 4.3 テストコード
- 4.4 実行効率の良いコード

---

## 技術仕様書 (`docs/tech-spec.md`) ← 修正：ファイル名変更

### 1. 技術スタック
- 1.1 フロントエンド
- 1.2 バックエンド
- 1.3 インフラストラクチャ
- 1.4 開発ツール

### 2. 開発環境
- 2.1 必要なソフトウェア
- 2.2 環境構築手順
- 2.3 IDE設定

### 3. ビルド・デプロイ
- 3.1 ビルド設定
- 3.2 CI/CDパイプライン
- 3.3 環境変数管理

### 4. 依存関係
- 4.1 ライブラリ一覧
- 4.2 バージョン管理
- 4.3 ライセンス情報

---

## テスト仕様書 (`docs/test-spec.md`)

### 1. テスト計画
- 1.1 テスト範囲
- 1.2 テスト環境
- 1.3 テストスケジュール
- 1.4 合格基準

### 2. テストケース
- 2.1 機能テスト
- 2.2 画面遷移テスト
- 2.3 境界値テスト
- 2.4 異常系テスト

### 3. 統合テスト
- 3.1 API連携テスト
- 3.2 データ連携テスト
- 3.3 外部サービステスト

### 4. 非機能テスト
- 4.1 パフォーマンステスト
- 4.2 セキュリティテスト
- 4.3 ユーザビリティテスト

### 5. テスト結果
- 5.1 テスト実施記録
- 5.2 不具合一覧
- 5.3 改善提案

---

## 運用マニュアル (`docs/op-manual.md`)

### 1. 環境構成
- 1.1 インフラ構成
- 1.2 ネットワーク構成
- 1.3 アクセス権限

### 2. デプロイ手順
- 2.1 ビルド手順
- 2.2 リリース手順
- 2.3 ロールバック手順

### 3. 監視・アラート
- 3.1 監視項目
- 3.2 アラート設定
- 3.3 ログ管理

### 4. 定期作業
- 4.1 バックアップ
- 4.2 データメンテナンス
- 4.3 証明書更新

### 5. 障害対応
- 5.1 エスカレーションフロー
- 5.2 トラブルシューティング
- 5.3 復旧手順

---

## ユーザーマニュアル (`docs/user-manual.md`)

### 1. はじめに
- 1.1 アプリ概要
- 1.2 主な機能
- 1.3 動作環境

### 2. インストール・初期設定
- 2.1 インストール方法
- 2.2 アカウント登録
- 2.3 初期設定

### 3. 基本操作
- 3.1 画面構成
- 3.2 基本的な使い方
- 3.3 各機能の説明

### 4. 応用操作
- 4.1 高度な機能
- 4.2 カスタマイズ
- 4.3 ショートカット

### 5. トラブルシューティング
- 5.1 よくある質問（FAQ）
- 5.2 エラーメッセージ対応
- 5.3 お問い合わせ方法

---

## セキュリティ設計書 (`docs/security-design.md`)

### 1. セキュリティ方針
- 1.1 セキュリティポリシー
- 1.2 コンプライアンス要件
- 1.3 リスク評価

### 2. アクセス制御
- 2.1 認証方式
- 2.2 認可モデル
- 2.3 セッション管理

### 3. データ保護
- 3.1 暗号化方式
- 3.2 個人情報の取り扱い
- 3.3 データマスキング

### 4. 脆弱性対策
- 4.1 OWASP Top 10対策
- 4.2 ペネトレーションテスト
- 4.3 セキュリティアップデート

### 5. インシデント対応
- 5.1 検知方法
- 5.2 対応フロー
- 5.3 報告体制

---

## パフォーマンス基準書 (`docs/performance-criteria.md`)

### 1. パフォーマンス目標
- 1.1 応答時間基準
- 1.2 スループット基準
- 1.3 リソース使用率

### 2. 測定方法
- 2.1 測定ツール
- 2.2 測定環境
- 2.3 測定シナリオ

### 3. 最適化指針
- 3.1 フロントエンド最適化
- 3.2 バックエンド最適化
- 3.3 データベース最適化

### 4. 監視と改善
- 4.1 継続的監視
- 4.2 ボトルネック分析
- 4.3 改善計画

---

## マーケティング戦略書 (`docs/marketing-strategy.md`)

### 1. 概要
- 1.1 マーケティングの目的（例：βユーザー100人獲得、3ヶ月以内にCV率5%達成）
- 1.2 ターゲットユーザー像（ペルソナ）
- 1.3 ユニークバリュープロポジション（UVP）

### 2. チャネル戦略
- 2.1 獲得チャネル一覧（SNS / SEO / 広告 / コンテンツ / PR / 口コミ etc.）
- 2.2 各チャネルのKPIと予算（例：Twitter→フォロワー1000人、CPC 50円以内）
- 2.3 チャネル優先順位とスケジュール

### 3. コンテンツ戦略
- 3.1 ブランディングメッセージ
- 3.2 LP（ランディングページ）設計方針
- 3.3 ブログ／SNS投稿計画（例：週2記事、AI活用Tips中心）
- 3.4 メールマガジン／プッシュ通知戦略

### 4. ユーザー獲得・定着設計
- 4.1 オンボーディングフロー（初回体験設計）
- 4.2 リファラル施策（招待特典など）
- 4.3 リテンション施策（例：週次レポートメール、機能アンロック）
- 4.4 NPS／フィードバック収集設計

### 5. 分析・改善体制
- 5.1 計測ツール（例：Google Analytics, Mixpanel, Hotjar）
- 5.2 主要指標ダッシュボード設計（DAU, CVR, LTV, Churn Rate）
- 5.3 A/Bテスト計画（UI/コピー/フロー）
- 5.4 週次レビュー体制（KPI→仮説→施策→検証）

### 6. リスクと対応
- 6.1 ユーザー獲得コスト高騰リスク
- 6.2 競合の模倣リスク
- 6.3 ブランディングの誤解リスク（特にAI生成コンテンツの場合）
